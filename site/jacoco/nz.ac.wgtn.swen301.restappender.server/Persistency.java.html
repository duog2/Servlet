<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Persistency.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Simple Webapp(s)</a> &gt; <a href="index.source.html" class="el_package">nz.ac.wgtn.swen301.restappender.server</a> &gt; <span class="el_source">Persistency.java</span></div><h1>Persistency.java</h1><pre class="source lang-java linenums">package nz.ac.wgtn.swen301.restappender.server;
import org.json.JSONArray;
import org.json.JSONObject;

import javax.servlet.http.HttpServlet;

public class Persistency extends HttpServlet {

<span class="fc" id="L9">    public Persistency(){</span>
<span class="fc" id="L10">        DB = new JSONArray();</span>
<span class="fc" id="L11">        addLog(&quot;d290f1ee-6c54-4b01-90e6-d701748f0851&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Mandu&quot;,
                &quot;debug&quot;,
                &quot;string&quot;);
<span class="fc" id="L18">        addLog(&quot;Ai love kajun&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;info&quot;,
                &quot;string&quot;);
<span class="fc" id="L25">        addLog(&quot;Ai love mandu&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;info&quot;,
                &quot;string&quot;);
<span class="fc" id="L32">        addLog(&quot;phew&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;fatal&quot;,
                &quot;string&quot;);
<span class="fc" id="L39">        addLog(&quot;ako&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;error&quot;,
                &quot;string&quot;);
<span class="fc" id="L46">        addLog(&quot;nano&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;trace&quot;,
                &quot;string&quot;);
<span class="fc" id="L53">        addLog(&quot;nano&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;trace&quot;,
                &quot;string&quot;);
<span class="fc" id="L60">        addLog(&quot;nano&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;trace&quot;,
                &quot;string&quot;);
<span class="fc" id="L67">        addLog(&quot;nano&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;trace&quot;,
                &quot;string&quot;);
<span class="fc" id="L74">        addLog(&quot;nano&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;trace&quot;,
                &quot;string&quot;);
<span class="fc" id="L81">        addLog(&quot;nano&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;trace&quot;,
                &quot;string&quot;);
<span class="fc" id="L88">        addLog(&quot;nano&quot;,</span>
                &quot;application started&quot;,
                &quot;04-05-2021 13:30:45&quot;,
                &quot;main&quot;,
                &quot;Kajun&quot;,
                &quot;trace&quot;,
                &quot;string&quot;);
<span class="fc" id="L95">    }</span>

    private JSONArray DB;

<span class="fc" id="L99">    public JSONArray getLogs(){return DB;}</span>

    public void deleteAllLogs(){
<span class="fc" id="L102">        DB.clear();</span>
<span class="fc" id="L103">    }</span>

    public void addLog(String id, String message, String timestamp, String thread, String logger, String level, String errorDetails) {
<span class="fc" id="L106">        JSONObject log = new JSONObject();</span>
<span class="fc" id="L107">        log.put(&quot;id&quot;, id);</span>
<span class="fc" id="L108">        log.put(&quot;message&quot;, message);</span>
<span class="fc" id="L109">        log.put(&quot;timestamp&quot;, timestamp);</span>
<span class="fc" id="L110">        log.put(&quot;thread&quot;, thread);</span>
<span class="fc" id="L111">        log.put(&quot;logger&quot;, logger);</span>
<span class="fc" id="L112">        log.put(&quot;level&quot;, level);</span>
<span class="fc" id="L113">        log.put(&quot;errorDetails&quot;, errorDetails);</span>
<span class="fc" id="L114">        DB.put(log);</span>
<span class="fc" id="L115">    }</span>


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>